{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>{{ target_user.first_name }}'s Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        .profile-banner {
            height: 200px;
            border-radius: 0 0 10px 10px;
            position: relative;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .profile-pic {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            border: 5px solid white;
            object-fit: cover;
            position: absolute;
            bottom: -70px;
            left: 30px;
            background-color: white;
        }

        .profile-info {
            margin-top: 90px;
            padding-left: 180px;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-request {
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 500;
        }

        .badge a {
            color: white;
            text-decoration: none;
        }

        .badge a:hover {
            text-decoration: underline;
        }
    </style>
</head>

<body class="bg-light">
<div class="container">

    <!-- Profile Banner -->
    <div class="profile-banner"
        style="background-image: url('{% if target_user.userprofile.profile_picture %}{{ target_user.userprofile.profile_picture.url }}{% else %}{% static 'default_profile.png' %}{% endif %}');">
        
        
        {% if target_user.userprofile.profile_picture %}
            <img src="{{ target_user.userprofile.profile_picture.url }}" class="profile-pic">
        {% else %}
            <img src="{% static 'default_profile.png' %}" class="profile-pic">
        {% endif %}
        

    </div>

    <!-- Profile Info -->
    <div class="profile-info">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h2>{{ target_user.firstname }} {{ target_user.lastname }}</h2>
                <div class="d-flex gap-3 mt-2">
                    <span class="badge bg-primary">
                        <i class="fas fa-users"></i>
                        <a href="{% url 'followers_list' target_user.id %}">{{ target_user.followers.count }} Followers</a>
                    </span>
                    <span class="badge bg-success">
                        <i class="fas fa-user-friends"></i>
                        <a href="{% url 'following_list' target_user.id %}">{{ target_user.following.count }} Following</a>
                    </span>

                
                </div>
            </div>
        </div>
    </div>

    <!-- About Card -->
    <div class="card mt-4 shadow-sm">
        <div class="card-body">
            <h5 class="card-title"><i class="fas fa-info-circle"></i> About</h5>
            <div class="row mt-3">
                <div class="col-md-6">
                    <p><strong><i class="fas fa-birthday-cake"></i> Date of Birth:</strong> 
                        {{ target_user.Date_of_birth|date:"d M Y" }}</p>
                    <p><strong><i class="fas fa-phone"></i> Phone:</strong> 
                        {{ target_user.phone_number }}</p>
                </div>
                <form method="POST" action="{% url 'edit_profiles' %}">
                    {% csrf_token %}
                    <button type="submit" name="action" value="profile-pic"><i class="fa-solid fa-comment"></i></button>
                </form>
            </div>
        </div>

    </div>

    
    <a href="{% url 'home' %}" class="btn btn-primary mt-4">
        <i class="fas fa-arrow-left"></i> Back to Home
    </a>

    
</div>
</body>
</html>